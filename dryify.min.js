(function(){"use strict";var t=this,r=t.dryify,n=function(){function r(){if(arguments.length)throw new Error("Dryify expects a call to a method")}function e(t){for(var r=-1,n=t?t.length:0,e=-1,o=[];++r<n;){var f=t[r];f&&(o[++e]=f)}return o}function o(t){var r=t.toString();return r.slice(r.indexOf("(")+1,r.indexOf(")")).match(/([^\s,]+)/g)||[]}function f(t){if("string"!=typeof t)throw Error("@jsonPath must be a string. Type is ["+typeof t+"]");if(t){t=e(t.split(/[\]\.]+|\[|\]/g));for(var r,n=0;n<t.length;n++)r=t[n],isNaN(r)||(r=parseInt(r))}else t=[];return t}return r.prototype.optionify=function(t,r){var n=this;if("function"!=typeof t)throw Error("@fn must take a function argument. Type is ["+typeof t+"]");return function(e){var f,i=[];for(r instanceof Array||(r=o(t)),f=r.length;f--;)i[f]=e[r[f]];return t.apply(n,i)}},r.prototype.getval=function(t,r,n){function e(t){return"function"!=typeof t?t||null:t()}if(r=f(r),!t)return e(n);for(var o,i=0;i<r.length;i++){if(o=r[i],!t||"undefined"==typeof t[o]||null===typeof t[o])return e(n);t=t[o]}return t},r.prototype.setval=function(t,r,n,e){var o=t;if("object"!=typeof o||"string"!=typeof r)throw Error("@setval missing some mandatory arguments");r=f(r);for(var i,u,y=0;y<r.length;y++)if(i=r[y],u=r[y+1],"undefined"==typeof o[i]){if(e!==!0){if("function"==typeof e)return e(t,n);break}"undefined"!=typeof u?("string"==typeof u?o[i]={}:o[i]=[],o=o[i]):o[i]=n}else o=o[i];return t},r.prototype.traverse=function(t,r){function n(t){var e=0;for(var o in t)"function"!=typeof t[o]&&(t[o]=r(t[o],e++),t[o]&&"object"==typeof t[o]&&n(t[o]));return t}return n(t)},n=new r,n.Dryify=r,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.dryify=n):t.dryify=n,n}();n.noConflict=function(){return t.dryify=r,n}}).call(this);