(function(){"use strict";var t=this,e=t.dryify;(function(){function r(){this._compact=function(t){for(var e=-1,r=t?t.length:0,n=-1,o=[];++e<r;){var i=t[e];i&&(o[++n]=i)}return o},this._getFunctionParameterNames=function(t){var e=t.toString();return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(/([^\s,]+)/g)||[]},this._interpretJsonPath=function(t){if("string"!=typeof t)throw Error("@jsonPath must be a string. Type is ["+typeof t+"]");if(t){t=this._compact(t.split(/[\]\.]+|\[|\]/g));for(var e=0;e<t.length;e++)isNaN(t[e])||(t[e]=parseInt(t[e]))}else t=[];return t}}return r.prototype.optionify=function(t,e){var r=this;if("function"!=typeof t)throw Error("@fn must take a function argument. Type is ["+typeof t+"]");return function(n){var o=e instanceof Array?e:r._getFunctionParameterNames(t),i=[],f=0;for(var s in n){if(s!==o[f])throw Error("@options provided with mismatched keys to parameter names. This is usually because the function is minified. Please either re-order the options object, or explicitly provide the ordered parameter names in @orderedParamNames");i.push(n[s]),f++}return t.apply(r,i)}},r.prototype.getval=function(t,e,r){function n(t){return"function"!=typeof t?t||null:t()}if(e=this._interpretJsonPath(e),!t)return n(r);for(var o=0;o<e.length;o++){if(!t||"undefined"==typeof t[e[o]]||null===typeof t[e[o]])return n(r);t=t[e[o]]}return t},r.prototype.setval=function(t,e,r,n){var o,i,f=t;if("object"!=typeof f||"string"!=typeof e)throw Error("@setval missing some mandatory arguments");e=this._interpretJsonPath(e);for(var s=0;s<e.length;s++)if(o=e[s],i=e[s+1],"undefined"==typeof f[o]){if(n!==!0){if("function"==typeof n)return n(t,r);break}"undefined"!=typeof i?("string"==typeof i?f[o]={}:f[o]=[],f=f[o]):f[o]=r}else f=f[o];return t},r.prototype.traverse=function(t,e){function r(t){var n=0;for(var o in t)"function"!=typeof t[o]&&(t[o]=e(t[o],n++),t[o]&&"object"==typeof t[o]&&r(t[o]));return t}return r(t)},r.prototype.noConflict=function(){return t.dryify=e,dryify},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=new r),exports.dryify=new r):t.dryify=new r,r})()}).call(this);